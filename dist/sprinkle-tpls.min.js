angular.module("mnd.sprinkle",[]).factory("MndWordProcessingService",function(){return function(n){var t={};if(2===n.length)t.left=n[0],t.pivot=n[1],t.right="";else{var r=Math.ceil(n.length/2-1);t.left=n.slice(0,r),t.right=n.slice(r+1),t.pivot=n.slice(r,r+1)}return t.multiplier=/[\,\:\;]$/g.test(n)?1.5:/[\.\!\?]$/g.test(n)?2:1,t}}).factory("MndWordSplittingService",function(){return function(n){var t=n.split(/\s+/);return t}}).directive("mndSprinkle",["$timeout","MndWordSplittingService","MndWordProcessingService",function(n,t,r){return{restrict:"EA",templateUrl:"templates/sprinkle.html",scope:{text:"@",wpm:"@"},link:function(e){e._words=t(e.text),e._wordIndex=0,e._msPerWord=Math.floor(6e4/parseInt(e.wpm,10));var i=function(){var t=e._words[e._wordIndex],o=r(t);e.word=o;var s=o.multiplier*e._msPerWord;e._wordIndex++,e._wordIndex<e._words.length&&(e._timeout=n(i,s))};e.start=function(){i()},e.pause=function(){n.cancel(e._timeout)},e.rewind=function(){e._wordIndex=0},e.stop=function(){e.pause(),e.rewind()}}}}]),function(n){try{n=angular.module("mnd.sprinkle")}catch(t){n=angular.module("mnd.sprinkle",[])}n.run(["$templateCache",function(n){n.put("templates/sprinkle.html",'<div class="spray-container">\n	<div class="spray-result">\n		<span class="spray-left">\n			&nbsp;\n			{{word.left}}\n		</span>\n		<span class="spray-pivot">\n			{{word.pivot}}\n		</span>\n		<span class="spray-right">\n			{{word.right}}\n		</span>\n	</div>\n</div>\n<br />\n<br />\n<br />\n<button ng-click="start()">Start</button>\n<br />\n<button ng-click="pause()">Pause</button>\n<br />\n<button ng-click="stop()">Stop</button>\n<br />\n<button ng-click="rewind()">Rewind</button>\n')}])}();